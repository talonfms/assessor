<div data-controller="modal">
  <button class="text-xs bg-blue-500 text-white px-4 py-2 rounded" data-action="click->modal#open:prevent">+ Add block</button>
  <dialog class="rounded-lg my-6 max-h-screen bg-transparent backdrop:backdrop-blur-sm backdrop:bg-black/50" data-modal-target="dialog" data-action="click-&gt;modal#backdropClose">
    <div class="">
      <div class="p-6 bg-white dark:bg-gray-900 dark:text-gray-200">
        <button type="button" data-action="modal#close:prevent" class="hover:cursor-pointer absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4 mr-1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><line x1="18" x2="6" y1="6" y2="18"></line><line x1="6" x2="18" y1="6" y2="18"></line></svg>
          <span class="sr-only">Close</span>
        </button>
        <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
          <div class="relative transform overflow-hidden rounded-lg bg-white text-left transition-all sm:w-full sm:max-w-4xl mx-4" style="height: 42rem;">
            <div class="bg-white px-4 pt-5 pb-4 sm:px-14 sm:py-8">
              <div class="w-full">
                <div class="text-center sm:mt-0 sm:text-left">
                  <h3 class="text-xl font-medium leading-6 text-gray-900">
                    Choose your block
                  </h3>
                  <div class="mt-6 space-y-4">
                    <div class="grid grid-cols-12 gap-8 text-sm" data-controller="block-menu-selection" data-block-menu-selection-default-block-value="empty">
                      <div class="col-span-4 relative overflow-y-scroll pb-6" style="height: 33rem;">
                        <div class="sticky top-0">
                          <div class="mb-6">
                            <div class="mt-1 px-1">
                              <input type="search" x-model="search" class="block w-full rounded-full border-gray-300 px-4 shadow-sm focus:border-gray-500 focus:ring-gray-500 sm:text-sm" placeholder="Search blocks...">
                            </div>
                          </div>
                        </div>
                        <div class="space-y-3">
                          <div class="button-container">
                            <button class="my-3 px-4 py-3 border border-gray-300 rounded-md w-full flex items-center hover:bg-gray-50
                            data-block-menu-selection-target="button"
                              data-action="click->block-menu-selection#select"
                              data-block-type="short_text"">
                              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 9h16.5m-16.5 6.75h16.5" />
                              </svg>
                              Short Text
                            </button>
                            <button class="my-3 px-4 py-3 border border-gray-300 rounded-md w-full flex items-center hover:bg-gray-50">
                              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5" />
                              </svg>
                              Long Text
                            </button>
                            <button class="my-3 px-4 py-3 border border-gray-300 rounded-md w-full flex items-center hover:bg-gray-50">
                              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
                              </svg>
                              Statement
                            </button>
                            <button class="my-3 px-4 py-3 border border-gray-300 rounded-md w-full flex items-center hover:bg-gray-50" ata-block-menu-selection-target="button"
data-action="click->block-menu-selection#select"
                              data-block-type="single_select">
                              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z" />
                              </svg>
                              Single Select Option
                            </button>
                            <button class="my-3 px-4 py-3 border border-gray-300 rounded-md w-full flex items-center hover:bg-gray-50">
                              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
                              </svg>
                              Multi Select Option
                            </button>
                          </div>
                        </div>
                      </div>
                      <div class="col-span-8 overflow-y-scroll pb-40 scrollbar-hide">
                        <div class="w-full h-full border border-gray-300 rounded-md blocks-container">
                          <div data-block-menu-selection-target="content" data-block-type="empty" class="text-center pt-6 max-w-xs mx-auto">
                            <h4 class="text-lg font-semibold">
                              No block selected
                            </h4>
                            <p class="mt-4 text-sm text-gray-500">
                              Select a block from left to know about it and to use in the form.
                            </p>
                          </div>
                          <div x-show="selectedBlock == 'text'" class="text-center pt-6 px-6" style="display: none;">
                            <h4 class="text-lg font-semibold">
                              Statement Block
                            </h4>
                            <p class="mt-4 text-sm text-gray-500">
                              Primarily used as "Intro" or "Welcome" block (like in the screenshot below), but can be used anywhere in your form to display a message.
                            </p>
                            <div>
                              <img src="https://app.youform.com/images/blocks/text.png" class="border-4 rounded-md border-gray-200 my-6" alt="Statement block">
                            </div>
                          </div>
                          <div data-block-menu-selection-target="content" data-block-type="short_text" class="text-center pt-6 px-6">
                            <h4 class="text-lg font-semibold">
                              Short Text Block
                            </h4>
                            <p class="mt-4 text-sm text-gray-500">
                              Use this for short answers, such as Name, Email Address, or any other short text answer.
                            </p>
                            <div>
                              <%= form_with(model: [template_version, Block.new]) do | form |%>
                                <%= form.hidden_field :block_type, value: :short_text %>
                                <%= hidden_field_tag :block_id, @block&.id %>
                                <%= form.submit "Use this block", class: "cursor-pointer flex items-center bg-gray-700 hover:bg-gray-800 text-white block max-w-sm mx-auto my-8 text-center px-14 py-2 rounded-md"%>
                              <% end %>
                            </div>
                          </div>
                          <div x-show="selectedBlock == 'textarea'" class="text-center pt-6 px-6" style="display: none;">
                            <h4 class="text-lg font-semibold">
                              Long Text Block
                            </h4>
                            <p class="mt-4 text-sm text-gray-500">
                              Use this if you want people to write longer answers. <br>
                              For e.g User Feedback, Full address etc.
                            </p>
                            <div>
                              <img src="https://app.youform.com/images/blocks/textarea.png" class="border-4 rounded-md border-gray-200 my-6" alt="Statement block">
                            </div>
                          </div>
                          <div data-block-menu-selection-target="content" data-block-type="single_select"  class="text-center pt-6 px-6">
                            <h4 class="text-lg font-semibold">
                              Single Select Option Block
                            </h4>
                            <p class="mt-4 text-sm text-gray-500">
                              Single Select Option blocks are used in questions where multiple options are presented to users but they can choose only one out of many. For e.g the following situation:
                            </p>
                            <div>
                              <%= form_with(model: [template_version, Block.new]) do | form |%>
                                <%= form.hidden_field :block_type, value: :single_select %>
                                <%= hidden_field_tag :block_id, @block&.id %>
                                <%= form.submit "Use this block", class: "cursor-pointer flex items-center bg-gray-700 hover:bg-gray-800 text-white block max-w-sm mx-auto my-8 text-center px-14 py-2 rounded-md"%>
                              <% end %>
                            </div>
                          </div>
                          <div x-show="selectedBlock == 'checkbox'" class="text-center pt-6 px-6" style="display: none;">
                            <h4 class="text-lg font-semibold">
                              Multi Select Option Block
                            </h4>
                            <p class="mt-4 text-sm text-gray-500">
                              Unlike Single Select Option blocks, these blocks are used in questions where multiple options are presented to users and they can choose more than one among them. For e.g the following situation:
                            </p>
                            <div>
                              <img src="https://app.youform.com/images/blocks/checkbox.png" class="border-4 rounded-md border-gray-200 my-6" alt="Statement block">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </dialog></div>